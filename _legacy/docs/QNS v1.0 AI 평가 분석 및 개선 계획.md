
## QNS v1.0 AI 평가 분석 및 개선 계획

### 1. 평가 요약 매트릭스

| 이슈 카테고리 | 지적 AI 수 | 타당성 | 심각도 |
|--------------|-----------|--------|--------|
| T1/T2 "실시간 측정" 불가능 | 6/6 | **매우 타당** | Critical |
| 벤치마크 환경 정보 누락 | 6/6 | **매우 타당** | High |
| 하드웨어 연동 계층 부재 | 6/6 | **매우 타당** | Critical |
| 피델리티 모델 T2 누락 | 5/6 | **타당** | High |
| "100ms 실시간" 비현실적 | 5/6 | **타당** | High |
| BFS 확장성 한계 | 5/6 | **타당** | Medium |
| Crosstalk 노이즈 미포함 | 4/6 | **타당** | Medium |
| Python 생태계 단절 | 4/6 | **타당** | High |
| "노이즈 공생" 철학 vs 구현 간극 | 4/6 | **타당** | Medium |
| Error Mitigation 기법 없음 | 3/6 | **타당** | Medium |
| 벤치마크 수치 과장 | 3/6 | **부분 타당** | Medium |
| "학술적 사기" "즉시 중단" | 1/6 | **과도함** | N/A |

---

### 2. 비판 타당성 분석

#### 2.1 완전히 타당한 비판 (반드시 수정)

**① T1/T2 "실시간 측정" 표현**
```
현재: "밀리초 단위 T1/T2 실시간 모니터링"
현실: T1/T2 측정은 수천 샷 + 피팅 필요 → 분~시간 소요
```
→ **수정 방향**: "캘리브레이션 데이터 참조 기반 적응"으로 변경

**② 하드웨어 연동 계층 부재**
```
현재: qns_core/profiler/rewire/simulator/cli 만 존재
현실: IBM Quantum API 연결 코드 0줄
```
→ **수정 방향**: `HardwareBackend` trait 및 `QiskitBackend` 설계 추가

**③ 피델리티 모델 단순화**
```
현재: F ≈ Π(1-ε) × exp(-Σt/T1)  ← T2 없음
현실: T2 디코히런스가 피델리티에 큰 영향
```
→ **수정 방향**: T2/Tφ 항 추가

**④ 벤치마크 환경 미명시**
```
현재: "95μs", "1.4μs" 등 수치만 존재
현실: CPU, 메모리, 빌드 설정, 회로 크기 미명시
```
→ **수정 방향**: 전체 벤치마크에 환경 정보 추가

#### 2.2 부분적으로 타당한 비판 (조건부 수정)

**① 벤치마크 수치 "물리적 불가능"**
- Grok, Kimi: "95μs는 불가능"
- **분석**: 순수 Rust 시뮬레이터 기준이면 가능. 단, "시뮬레이터 기준"을 명확히 해야 함

**② 메모리 추정 오류**
- ChatGPT: "25 큐비트에 512GB는 과대"
- **분석**: 타당. 실제로는 25q = ~512MB. 수정 필요

#### 2.3 과도하거나 부당한 비판 (반박 가능)

**① "학술적 사기", "프로젝트 즉시 중단" (Kimi)**
- **반박**: MVP 단계 기술 명세서임. 연구 제안서가 아님

**② "물리법칙 위반" (DeepSeek)**
- **반박**: "노이즈 공생"은 노이즈를 에너지원으로 쓰는 것이 아니라, 노이즈 특성에 적응하는 것. 열역학 위반 아님

**③ "Kraus 연산자 오류" (DeepSeek)**
- **분석 필요**: 실제 코드 확인 후 판단

---

### 3. 개선 계획

#### Phase A: 즉시 수정 (명세서/문서) - 1-2일

| # | 항목 | 현재 | 수정 방향 |
|---|------|------|----------|
| A1 | T1/T2 측정 표현 | "밀리초 단위 실시간 모니터링" | "캘리브레이션 데이터 참조 기반 노이즈 추정" |
| A2 | 100ms 목표 | "100ms 이내 회로 재구성" | "로컬 파이프라인 기준 100ms, 하드웨어 연동 시 Job-to-Job 최적화" |
| A3 | 벤치마크 환경 | 수치만 존재 | CPU/메모리/빌드/회로크기 상세 명시 |
| A4 | "시뮬레이터 기준" 명시 | 암묵적 가정 | 모든 벤치마크에 "시뮬레이터 기준" 명시 |
| A5 | 메모리 추정 | 25q→512GB | 25q→512MB, 30q→16GB 수정 |
| A6 | 라이선스 충돌 | "All rights reserved" + MIT/Apache | "All rights reserved" 문구 제거 |
| A7 | 달성률 표현 | "2,100x 달성" | "μs 수준 동작 확인 (시뮬레이터 기준)" |

#### Phase B: 단기 구현 개선 - 1-2주

| # | 항목 | 작업 내용 | 우선순위 |
|---|------|----------|---------|
| B1 | 피델리티 모델 개선 | T2/Tφ 항 추가, Crosstalk 기초 모델 | P0 |
| B2 | HardwareBackend trait | 하드웨어 추상화 인터페이스 설계 | P0 |
| B3 | DriftScanner 모드 분리 | SimulatorMode / CalibrationMode 구분 | P0 |
| B4 | GateReorder 개선 | Beam Search 옵션 추가 | P1 |
| B5 | API 문서화 | 함수 시그니처, 파라미터, 반환 타입 명시 | P1 |
| B6 | NoiseVector 확장 | gate_error_1q, gate_error_2q, readout_error 필드 추가 | P1 |

#### Phase C: 중기 구현 - 1-2개월

| # | 항목 | 작업 내용 | 우선순위 |
|---|------|----------|---------|
| C1 | IBM Quantum PoC | Qiskit Runtime 연동 기초 구현 | P0 |
| C2 | PyO3 바인딩 | Python 패키지 (`pip install qns`) | P0 |
| C3 | Crosstalk 모델 | CrosstalkMatrix 구조체, 병렬 실행 시 에러 증가 모델 | P1 |
| C4 | Error Mitigation | ZNE 기초 구현 | P1 |
| C5 | 실제 하드웨어 검증 | IBM Quantum 5+ 큐비트 실험 데이터 확보 | P0 |
| C6 | 표준 벤치마크 | Quantum Volume, CLOPS 측정 | P2 |

---

### 4. 수정된 핵심 주장 (Before → After)

| 구분 | Before | After |
|------|--------|-------|
| **T1/T2** | "밀리초 단위 실시간 모니터링" | "주기적 캘리브레이션 데이터 기반 노이즈 추정 (시뮬레이터: 실시간, 하드웨어: 캘리브레이션 주기)" |
| **적응 속도** | "100ms 이내 회로 재구성" | "로컬 파이프라인 <100ms (시뮬레이터), 하드웨어 연동 시 Job-to-Job 최적화" |
| **피델리티 향상** | "15-25% 향상" | "시뮬레이터 기준 5-15% 향상 예상 (하드웨어 검증 필요)" |
| **즉시 적용** | "기존 하드웨어 성능 즉시 향상" | "v1.0: 시뮬레이터 기반 최적화 프레임워크, v2.0: 하드웨어 연동" |
| **성능 기준** | 암묵적 | "모든 벤치마크는 시뮬레이터 기준. 하드웨어 연동 성능은 Phase 2에서 측정" |

---

### 5. 수정된 아키텍처 설계 (추가)

```
┌─────────────────────────────────────────────────────────────┐
│                    QNS v2.0 Architecture                    │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  ┌─────────────┐    ┌─────────────┐    ┌─────────────┐     │
│  │  qns_core   │    │ qns_profiler │   │ qns_rewire  │     │
│  └─────────────┘    └─────────────┘    └─────────────┘     │
│         │                  │                  │            │
│         └──────────────────┴──────────────────┘            │
│                           │                                │
│                    ┌──────┴──────┐                         │
│                    │             │                         │
│              ┌─────┴─────┐ ┌─────┴─────┐                   │
│              │Simulator  │ │ Hardware  │  ← 신규 추가      │
│              │Backend    │ │ Backend   │                   │
│              └───────────┘ └───────────┘                   │
│                    │             │                         │
│                    │       ┌─────┴─────┐                   │
│                    │       │  Qiskit   │                   │
│                    │       │  Bridge   │  ← 신규 추가      │
│                    │       └───────────┘                   │
│                    │             │                         │
│              ┌─────┴─────────────┴─────┐                   │
│              │      qns_cli / API      │                   │
│              └─────────────────────────┘                   │
│                           │                                │
│              ┌────────────┼────────────┐                   │
│              │            │            │                   │
│         ┌────┴────┐ ┌─────┴─────┐ ┌────┴────┐             │
│         │   CLI   │ │  PyO3     │ │  REST   │  ← 신규     │
│         │         │ │  Binding  │ │  API    │             │
│         └─────────┘ └───────────┘ └─────────┘             │
└─────────────────────────────────────────────────────────────┘
```

---

### 6. 수정된 피델리티 모델

**현재:**
$$F_{circuit} \approx \prod_g (1 - \varepsilon_g) \times \exp\left(-\sum_g \frac{t_g}{T_1}\right)$$

**개선:**
$$F_{circuit} \approx \prod_g (1 - \varepsilon_g) \times \exp\left(-\sum_g \frac{t_g}{T_1}\right) \times \exp\left(-\sum_g \frac{t_g}{T_\phi}\right) \times (1 - \varepsilon_{readout})^{n_{measured}}$$

여기서:
- $T_\phi = \frac{1}{1/T_2 - 1/(2T_1)}$ : 순수 위상 완화 시간
- $\varepsilon_{readout}$ : 읽기 에러율
- $n_{measured}$ : 측정 큐비트 수

---

### 7. 실행 일정

```
Week 1: Phase A 완료 (문서 수정)
        - 명세서 용어/수치 수정
        - 벤치마크 환경 명시
        
Week 2-3: Phase B 시작
        - 피델리티 모델 T2 추가
        - HardwareBackend trait 설계
        - DriftScanner 모드 분리
        
Month 2: Phase C 시작
        - IBM Quantum PoC
        - PyO3 바인딩 개발
        
Month 3: 검증
        - 실제 하드웨어 벤치마크
        - 표준 벤치마크(QV) 측정
```

---

### 8. 결론

**타당한 비판:** 6개 AI 중 5-6개가 공통으로 지적한 사항은 대부분 타당. 특히 "실시간 T1/T2 측정", "하드웨어 연동 부재", "피델리티 모델 단순화"는 반드시 수정 필요.

**과도한 비판:** "학술적 사기", "프로젝트 즉시 중단"은 MVP 단계에 대한 과도한 평가. 다만 이러한 오해를 방지하기 위해 "현재 상태: 시뮬레이터 기반 PoC"를 명확히 해야 함.

**핵심 메시지:** QNS v1.0은 **시뮬레이터 기반 최적화 프레임워크**로 포지셔닝하고, 하드웨어 연동은 **v2.0 목표**로 명확히 분리하는 것이 적절.

---

Phase A(문서 수정) 바로 시작할까요?